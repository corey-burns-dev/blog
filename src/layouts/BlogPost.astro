---
import MainLayout from "./main.astro";

const {
	title,
	description,
	pubDate,
	heroImage,
	author = "Corey Burns",
	keywords,
} = Astro.props;
---

<MainLayout title={title} description={description} ogImage={heroImage} ogType="article" pubDate={pubDate} author={author} keywords={keywords}>
  <article class="max-w-4xl px-6 py-12 pb-24 mx-auto gc-fade">
    <header class="mb-14">
      <div class="mb-6 flex flex-wrap gap-3 text-[10px] font-mono uppercase text-white/40">
        <span>~/articles</span>
        <span class="opacity-30">/</span>
        <time>{pubDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}</time>
      </div>
      <h1 class="mb-6 text-4xl md:text-5xl lg:text-6xl font-bold uppercase tracking-tighter relative">
        <span class="relative z-10">{title}</span>
      </h1>
      {description && <p class="max-w-2xl text-sm leading-relaxed text-white/50 border-l-2 border-[#00ff88] pl-4">{description}</p>}
    </header>

    {heroImage && (
      <div class="mb-10 overflow-hidden border border-white/5 relative group">
        <div class="relative h-64 md:h-[400px]">
          <img
            src={heroImage}
            alt={title}
            class="absolute inset-0 object-cover w-full h-full grayscale-50 contrast-125 group-hover:grayscale-0 transition-all duration-700"
            loading="lazy"
          />
          <div class="absolute inset-0 bg-linear-to-tr from-[#0a0a0a] via-[#0a0a0a]/40 to-transparent"></div>
          {/* Scanlines overlay for image */}
          <div class="absolute inset-0 pointer-events-none opacity-20" style="background-image: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.1) 2px, rgba(255,255,255,0.1) 4px);"></div>
        </div>
      </div>
    )}

    <div class="border border-white/5 bg-white/1 p-8 md:p-14 article-content">
      <slot />
    </div>

    <footer class="mt-16 font-mono text-[10px]">
      <a href="/" class="inline-block border border-white/10 px-6 py-3 uppercase tracking-[0.3em] text-white/50 transition-all hover:bg-white/5 hover:text-white after:hidden outline-none">
        [ESC] BACK TO ARCHIVE
      </a>
    </footer>
  </article>

</MainLayout>
